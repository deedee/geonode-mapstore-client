(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[6731],{921914:(t,e,n)=>{"use strict";n.d(e,{XL:()=>o,km:()=>i,Ih:()=>a,Xw:()=>s,Pn:()=>c,DZ:()=>u,e8:()=>l,E0:()=>h,F9:()=>p,X_:()=>f,pb:()=>d,qb:()=>m,Re:()=>y,ih:()=>g,xy:()=>E,jL:()=>v,oz:()=>w,ph:()=>b,lF:()=>F,gG:()=>T,cb:()=>_,GI:()=>O,B1:()=>x,fv:()=>I,gc:()=>P,zX:()=>S,ZF:()=>R,Zb:()=>N,DW:()=>M,Xp:()=>D,Fm:()=>A,sV:()=>j,Mn:()=>C,LU:()=>z,XP:()=>L,WU:()=>G,JB:()=>Y,g:()=>k,ws:()=>U,HP:()=>q,aN:()=>H,Pg:()=>X,u0:()=>B,TM:()=>Z,PM:()=>K,lK:()=>Q,sv:()=>V,MO:()=>J,oO:()=>$,Mc:()=>tt,Zw:()=>et,RA:()=>nt,am:()=>rt,ZM:()=>ot,wm:()=>it,Y$:()=>at,Qu:()=>st,kT:()=>ct});var r=n(647310),o="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",a="EXCEPTIONS_FEATURE_INFO",s="CHANGE_MAPINFO_STATE",c="NEW_MAPINFO_REQUEST",u="PURGE_MAPINFO_RESULTS",l="CHANGE_MAPINFO_FORMAT",h="SHOW_MAPINFO_MARKER",p="HIDE_MAPINFO_MARKER",f="SHOW_REVERSE_GEOCODE",d="HIDE_REVERSE_GEOCODE",m="GET_VECTOR_INFO",y="NO_QUERYABLE_LAYERS",g="CLEAR_WARNING",E="FEATURE_INFO_CLICK",v="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",w="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",b="TOGGLE_MAPINFO_STATE",F="UPDATE_CENTER_TO_MARKER",T="IDENTIFY:CHANGE_PAGE",_="IDENTIFY:CLOSE_IDENTIFY",O="IDENTIFY:CHANGE_FORMAT",x="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",I="IDENTIFY:EDIT_LAYER_FEATURES",P="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",S="IDENTIFY:SET_MAP_TRIGGER",R="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",N="IDENTIFY:SET_SHOW_IN_MAP_POPUP",M="IDENTIFY:IDENTIFY_IS_MOUNTED",D="IDENTIFY:INIT_PLUGIN";function A(t,e,n,r,i){return{type:o,data:e,reqId:t,requestParams:n,layerMetadata:r,layer:i}}function j(t,e,n,r){return{type:i,error:e,reqId:t,requestParams:n,layerMetadata:r}}function C(t,e,n,r){return{type:a,reqId:t,exceptions:e,requestParams:n,layerMetadata:r}}function z(){return{type:y}}function L(){return{type:g}}function G(t,e){return{type:c,reqId:t,request:e}}function Y(t,e,n,r){return{type:m,layer:t,request:e,metadata:n,queryableLayers:r}}function k(){return{type:u}}function U(t){return{type:l,infoFormat:t}}function q(){return{type:h}}function H(){return{type:p}}function W(t){return{type:f,reverseGeocodeData:t.data}}function X(t){return function(e){r.Z.reverseGeocode(t).then((function(t){e(W(t))})).catch((function(t){e(W(t))}))}}function B(){return{type:d}}function Z(){return{type:b}}function K(t){return{type:F,status:t}}function Q(t,e){return{type:E,point:t,layer:e,filterNameList:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],overrideParams:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},itemId:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null}}function V(t){return{type:v,point:t}}function J(t){return{type:w,enabled:t}}function $(t){return{type:T,index:t}}var tt=function(){return{type:_}},et=function(t){return{type:O,format:t}},nt=function(t){return{type:x,showCoordinateEditor:t}},rt=function(t){return{type:I,layer:t}},ot=function(t){return{type:P,query:t}},it=function(t){return{type:S,trigger:t}},at=function(t){return{type:N,value:t}},st=function(t){return{type:M,isMounted:t}},ct=function(t){return{type:D,cfg:t}}},647310:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var r=n(375875),o=n.n(r),i=n(472500),a=n.n(i),s=n(727418),c=n.n(s),u={format:"json",bounded:0,polygon_geojson:1,priority:5};const l={geocode:function(t,e){var n=c()({q:t},u,e||{}),r=a().format({protocol:"https",host:"nominatim.openstreetmap.org",query:n});return o().get(r)},reverseGeocode:function(t,e){var n=c()({lat:t.lat,lon:t.lng},e||{},u),r=a().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:n});return o().get(r)}}},615402:(t,e,n)=>{"use strict";n.d(e,{Z:()=>m});var r=n(675263),o=n.n(r),i=n(124852),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function h(t,e,n){return(e=p(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===s(e)?e:String(e)}var f=n(868195).FormattedHTMLMessage,d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(h,t);var e,n,r,o,i=(r=h,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(r);if(o){var n=l(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function h(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),i.apply(this,arguments)}return e=h,(n=[{key:"render",value:function(){return this.context.intl?a().createElement(f,{id:this.props.msgId,values:this.props.msgParams}):a().createElement("span",null,this.props.msgId||"")}}])&&c(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),h}(a().Component);h(d,"propTypes",{msgId:o().string.isRequired,msgParams:o().object}),h(d,"contextTypes",{intl:o().object});const m=d},821751:(t,e,n)=>{"use strict";n.r(e),n.d(e,{IDENTIFY_POPUP:()=>F,default:()=>T});var r=n(124852),o=n.n(r),i=n(173014),a=n(11196),s=n(867076),c=n(171703),u=n(22222),l=n(307877),h=n(921914),p=n(542872),f=n(701469),d=n.n(f),m=n(352353),y=n.n(m),g=n(979870),E=n(800827),v=(0,s.compose)((0,c.connect)((0,u.P1)(l.Qf,(function(t){return{index:t}})),{setIndex:h.oO}),(0,s.defaultProps)({index:0,responses:[]})),w=(0,u.P1)([l.q7,l.o9,l.OK,l.us,l.x0,E.hp,l.vR],(function(t,e,n,r,o,i,a){return{responses:t,validResponses:e,requests:n,format:r,showEmptyMessageGFI:o,missingResponses:(n||[]).length-(t||[]).length,renderValidOnly:i,loaded:a}}));const b=(0,s.compose)((0,c.connect)(w),(0,s.defaultProps)({responses:[],container:function(t){var e=t.index,n=t.children;return o().createElement(o().Fragment,null,d()(n)&&n[e]||n)},header:g.Z}),v,a.Yy,a.mI,(0,i.Z)((function(t){var e=t.loaded;return y()(e)})))(p.Z);var F="identify";const T={identify:b}},532425:(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var r=n(675263),o=n.n(r),i=n(124852),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(t){return t>100?"full":t>40?"medium":"small"},p=function(t){var e=t.size,n=t.style,r=void 0===n?{}:n,o=t.className,i=t.hidden;return a().createElement("div",{className:o,style:u({width:e,height:e,overflow:"hidden"},r)},!i&&a().createElement("div",{className:"mapstore-".concat(h(e),"-size-loader")}))};p.propTypes={size:o().number,className:o().string,style:o().object};const f=p},410240:(t,e,n)=>{var r=n(829750),o=n(880531),i=n(640554),a=n(479833);t.exports=function(t,e,n){return t=a(t),n=null==n?0:r(i(n),0,t.length),e=o(e),t.slice(n,n+e.length)==e}},262971:(t,e,n)=>{"use strict";e.__esModule=!0,e.default=void 0;var r=a(n(124852)),o=a(n(863811));function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(i=function(t){return t?n:e})(t)}function a(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=i(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}var u=0,l=0,h=1,p=35,f=50,d=function(t){var e,n;function i(e){var n;return(n=t.call(this,e)||this).state={x:u,y:l,scale:h,width:window.innerWidth,height:window.innerHeight,index:n.props.startIndex,swiping:!1,loading:!0,iconSize:window.innerWidth<=500?p:f},n.width=window.innerWidth,n.height=window.innerHeight,n.handleTouchStart=n.handleTouchStart.bind(s(n)),n.handleTouchMove=n.handleTouchMove.bind(s(n)),n.handleTouchEnd=n.handleTouchEnd.bind(s(n)),n.onNavigationCallback=n.props.onNavigationCallback&&"function"==typeof n.props.onNavigationCallback?n.props.onNavigationCallback:function(){},n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,c(e,n);var a=i.prototype;return a.zoomTo=function(t){var e=this;this.animation=requestAnimationFrame((function n(){if(e.state.scale!==t){var r=t-e.state.scale,i=e.state.scale+.04*r;e.zoom(o.settle(i,t,.001)),e.animation=requestAnimationFrame(n)}}))},a.reset=function(){var t=this;this.animation=requestAnimationFrame((function e(){if(t.state.scale!==h||t.state.x!==u||t.state.y!==l){var n=h-t.state.scale,r=o.settle(t.state.scale+.08*n,h,.001),i=t.width*r,a=t.height*r;t.setState({scale:r,width:i,height:a,x:u,y:l},(function(){t.animation=requestAnimationFrame(e)}))}}))},a.handleTouchStart=function(t){this.animation&&cancelAnimationFrame(this.animation),2===t.touches.length&&this.handlePinchStart(t),1===t.touches.length&&this.handleTapStart(t)},a.handleTouchMove=function(t){2===t.touches.length&&this.handlePinchMove(t),1===t.touches.length&&this.handlePanMove(t)},a.handleTouchEnd=function(t){return t.touches.length>0?null:this.state.scale>4?this.zoomTo(4):this.state.scale<1?this.zoomTo(1):(this.lastTouchEnd&&this.lastTouchEnd+300>t.timeStamp&&this.reset(),this.state.swiping&&1===this.state.scale&&this.handleSwipe(t),void(this.lastTouchEnd=t.timeStamp))},a.handleSwipe=function(t){var e=t.changedTouches[0].clientX-this.swipeStartX;e<-this.width/3?this.swipeRight():e>this.width/3?this.swipeLeft():this.reset()},a.swipeLeft=function(){var t=this,e=this.state.index;e>0?setTimeout((function(){t.setState({index:e-1,swiping:!1,x:u,loading:!0},(function(){return t.onNavigationCallback(e-1)}))}),500):this.reset()},a.swipeRight=function(){var t=this,e=this.state.index;e<this.props.data.length-1?setTimeout((function(){t.setState({index:e+1,swiping:!1,x:u,loading:!0},(function(){return t.onNavigationCallback(e+1)}))}),500):this.reset()},a.handleTapStart=function(t){this.swipeStartX=t.touches[0].clientX,this.swipeStartY=t.touches[0].clientY,1===this.state.scale&&this.setState({swiping:!0})},a.handlePanMove=function(t){1===this.state.scale?this.setState({x:t.touches[0].clientX-this.swipeStartX}):(t.preventDefault(),this.setState({x:t.touches[0].clientX-this.swipeStartX,y:t.touches[0].clientY-this.swipeStartY}))},a.handlePinchStart=function(t){var e=o.getPointFromTouch(t.touches[0]),n=o.getPointFromTouch(t.touches[1]);this.lastDistance=o.getDistanceBetweenPoints(e,n)},a.handlePinchMove=function(t){t.preventDefault();var e=o.getPointFromTouch(t.touches[0]),n=o.getPointFromTouch(t.touches[1]),r=o.getDistanceBetweenPoints(e,n),i=o.between(.8,4.2,this.state.scale*(r/this.lastDistance));this.zoom(i),this.lastDistance=r},a.zoom=function(t){var e=this.width*t,n=this.height*t;this.setState({width:e,height:n,scale:t})},a.getResources=function(){for(var t=this,e=[],n=this.props.data,o=0;o<n.length;o++){var i=n[o];"photo"===i.type&&e.push(r.createElement("img",{key:o,alt:i.altTag,src:i.url,style:{pointerEvents:1===this.state.scale?"auto":"none",maxWidth:"100%",maxHeight:"100%",transform:"translate("+this.state.x+"px, "+this.state.y+"px) scale("+this.state.scale+")",transition:"transform 0.5s ease-out"},onLoad:function(){t.setState({loading:!1})}})),"video"===i.type&&e.push(r.createElement("iframe",{key:o,width:"560",height:"315",src:i.url,frameBorder:"0",allow:"autoplay; encrypted-media",title:i.title,allowFullScreen:!0,style:{pointerEvents:1===this.state.scale?"auto":"none",maxWidth:"100%",maxHeight:"100%",transform:"translate("+this.state.x+"px, "+this.state.y+"px)",transition:"transform 0.5s ease-out"},onLoad:function(){t.setState({loading:!1})}}))}return e},a.UNSAFE_componentWillMount=function(){var t=this;window.addEventListener("resize",(function(){window.innerWidth<=500?t.setState({iconSize:p}):t.setState({iconSize:f})}))},a.componentWillUnmount=function(){var t=this;window.removeEventListener("resize",(function(){window.innerWidth<=500?t.setState({iconSize:p}):t.setState({iconSize:f})}))},a.render=function(){var t=this,e=this.getResources();return r.createElement("div",{onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,style:{top:"0px",left:"0px",overflow:"hidden",position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,1)",zIndex:"1000"}},this.props.showResourceCount&&r.createElement("div",{style:{position:"absolute",top:"0px",left:"0px",padding:"15px",color:"white",fontWeight:"bold"}},r.createElement("span",null,this.state.index+1)," / ",r.createElement("span",null,this.props.data.length)),r.createElement("div",{style:{position:"absolute",top:"0px",left:"70px",padding:"15px",color:"white",fontWeight:"bold",zIndex:"9999"}},r.createElement("span",null,this.props.data[this.state.index].tanggal)),r.createElement("div",{style:{position:"absolute",top:"0px",right:"0px",padding:"10px",color:"#FFFFFF",cursor:"pointer",fontSize:.8*this.state.iconSize+"px",zIndex:"9998"},onClick:this.props.onCloseCallback},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#FFFFFF"},r.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))),this.state.index+1!=1?r.createElement("div",{style:{position:"absolute",left:"0px",zIndex:1,color:"#FFFFFF",cursor:"pointer",fontSize:this.state.iconSize+"px"},onClick:function(){t.swipeLeft()}},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"48px",viewBox:"0 0 24 24",width:"48px",fill:"#FFFFFF"},r.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}))):r.createElement(r.Fragment,null),this.state.index+1!=this.props.data.length?r.createElement("div",{style:{position:"absolute",right:"0px",zIndex:1,color:"#FFFFFF",cursor:"pointer",fontSize:this.state.iconSize+"px"},onClick:function(){t.swipeRight()}},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"48px",viewBox:"0 0 24 24",width:"48px",fill:"#FFFFFF"},r.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}))):r.createElement(r.Fragment,null),this.state.loading&&r.createElement("div",{style:{margin:"auto",position:"fixed"}},r.createElement("style",null,"@keyframes react_image_video_spinner {\n                  0% {\n                    transform: translate3d(-50 %, -50 %, 0) rotate(0deg);\n                  }\n                  100% {\n                    transform: translate3d(-50%, -50%, 0) rotate(360deg);\n                  }\n                }"),r.createElement("div",{style:{animation:"1.0s linear infinite react_image_video_spinner",border:"solid 5px #ffffff",borderBottomColor:"#cfd0d1",borderRadius:"50%",height:30,width:30,position:"fixed",transform:"translate3d(-50%, -50%, 0)"}})),e[this.state.index])},i}(r.Component);e.default=d,t.exports=e.default},863811:(t,e)=>{"use strict";e.__esModule=!0,e.settle=e.getPointFromTouch=e.getDistanceBetweenPoints=e.between=void 0,e.settle=function(t,e,n){return t>e-n&&t<e||t<e+n&&t>e?e:t},e.getPointFromTouch=function(t){return{x:t.clientX,y:t.clientY}},e.getDistanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))},e.between=function(t,e,n){return Math.min(e,Math.max(t,n))}}}]);