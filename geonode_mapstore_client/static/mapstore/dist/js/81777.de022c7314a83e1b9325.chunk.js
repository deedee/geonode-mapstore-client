(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[81777],{654625:t=>{t.exports=function(t){if(!t||!t.type)return null;var n=e[t.type];return n?"geometry"===n?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]}:"feature"===n?{type:"FeatureCollection",features:[t]}:"featurecollection"===n?t:void 0:null};var e={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"}},887157:(t,e,n)=>{var i=n(640554),o=n(588958);t.exports=function(t,e,n,a){var r=t.length;for((n=i(n))<0&&(n=-n>r?0:r+n),(a=void 0===a||a>r?r:i(a))<0&&(a+=r),a=n>a?0:o(a);n<a;)t[n++]=e;return t}},819873:(t,e,n)=>{var i=n(887157),o=n(816612);t.exports=function(t,e,n,a){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&o(t,e,n)&&(n=0,a=r),i(t,e,n,a)):[]}},531351:t=>{var e=Array.prototype.reverse;t.exports=function(t){return null==t?t:e.call(t)}},410240:(t,e,n)=>{var i=n(829750),o=n(880531),a=n(640554),r=n(479833);t.exports=function(t,e,n){return t=r(t),n=null==n?0:i(a(n),0,t.length),e=o(e),t.slice(n,n+e.length)==e}},588958:(t,e,n)=>{var i=n(829750),o=n(640554);t.exports=function(t){return t?i(o(t),0,4294967295):0}},819081:(t,e,n)=>{"use strict";t.exports=n(1174)},262971:(t,e,n)=>{"use strict";e.__esModule=!0,e.default=void 0;var i=r(n(124852)),o=r(n(863811));function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}function r(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var s=o?Object.getOwnPropertyDescriptor(t,r):null;s&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r]}return i.default=t,n&&n.set(t,i),i}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}var h=0,c=0,u=1,p=35,d=50,f=function(t){var e,n;function a(e){var n;return(n=t.call(this,e)||this).state={x:h,y:c,scale:u,width:window.innerWidth,height:window.innerHeight,index:n.props.startIndex,swiping:!1,loading:!0,iconSize:window.innerWidth<=500?p:d},n.width=window.innerWidth,n.height=window.innerHeight,n.handleTouchStart=n.handleTouchStart.bind(s(n)),n.handleTouchMove=n.handleTouchMove.bind(s(n)),n.handleTouchEnd=n.handleTouchEnd.bind(s(n)),n.onNavigationCallback=n.props.onNavigationCallback&&"function"==typeof n.props.onNavigationCallback?n.props.onNavigationCallback:function(){},n}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,l(e,n);var r=a.prototype;return r.zoomTo=function(t){var e=this;this.animation=requestAnimationFrame((function n(){if(e.state.scale!==t){var i=t-e.state.scale,a=e.state.scale+.04*i;e.zoom(o.settle(a,t,.001)),e.animation=requestAnimationFrame(n)}}))},r.reset=function(){var t=this;this.animation=requestAnimationFrame((function e(){if(t.state.scale!==u||t.state.x!==h||t.state.y!==c){var n=u-t.state.scale,i=o.settle(t.state.scale+.08*n,u,.001),a=t.width*i,r=t.height*i;t.setState({scale:i,width:a,height:r,x:h,y:c},(function(){t.animation=requestAnimationFrame(e)}))}}))},r.handleTouchStart=function(t){this.animation&&cancelAnimationFrame(this.animation),2===t.touches.length&&this.handlePinchStart(t),1===t.touches.length&&this.handleTapStart(t)},r.handleTouchMove=function(t){2===t.touches.length&&this.handlePinchMove(t),1===t.touches.length&&this.handlePanMove(t)},r.handleTouchEnd=function(t){return t.touches.length>0?null:this.state.scale>4?this.zoomTo(4):this.state.scale<1?this.zoomTo(1):(this.lastTouchEnd&&this.lastTouchEnd+300>t.timeStamp&&this.reset(),this.state.swiping&&1===this.state.scale&&this.handleSwipe(t),void(this.lastTouchEnd=t.timeStamp))},r.handleSwipe=function(t){var e=t.changedTouches[0].clientX-this.swipeStartX;e<-this.width/3?this.swipeRight():e>this.width/3?this.swipeLeft():this.reset()},r.swipeLeft=function(){var t=this,e=this.state.index;e>0?setTimeout((function(){t.setState({index:e-1,swiping:!1,x:h,loading:!0},(function(){return t.onNavigationCallback(e-1)}))}),500):this.reset()},r.swipeRight=function(){var t=this,e=this.state.index;e<this.props.data.length-1?setTimeout((function(){t.setState({index:e+1,swiping:!1,x:h,loading:!0},(function(){return t.onNavigationCallback(e+1)}))}),500):this.reset()},r.handleTapStart=function(t){this.swipeStartX=t.touches[0].clientX,this.swipeStartY=t.touches[0].clientY,1===this.state.scale&&this.setState({swiping:!0})},r.handlePanMove=function(t){1===this.state.scale?this.setState({x:t.touches[0].clientX-this.swipeStartX}):(t.preventDefault(),this.setState({x:t.touches[0].clientX-this.swipeStartX,y:t.touches[0].clientY-this.swipeStartY}))},r.handlePinchStart=function(t){var e=o.getPointFromTouch(t.touches[0]),n=o.getPointFromTouch(t.touches[1]);this.lastDistance=o.getDistanceBetweenPoints(e,n)},r.handlePinchMove=function(t){t.preventDefault();var e=o.getPointFromTouch(t.touches[0]),n=o.getPointFromTouch(t.touches[1]),i=o.getDistanceBetweenPoints(e,n),a=o.between(.8,4.2,this.state.scale*(i/this.lastDistance));this.zoom(a),this.lastDistance=i},r.zoom=function(t){var e=this.width*t,n=this.height*t;this.setState({width:e,height:n,scale:t})},r.getResources=function(){for(var t=this,e=[],n=this.props.data,o=0;o<n.length;o++){var a=n[o];"photo"===a.type&&e.push(i.createElement("img",{key:o,alt:a.altTag,src:a.url,style:{pointerEvents:1===this.state.scale?"auto":"none",maxWidth:"100%",maxHeight:"100%",transform:"translate("+this.state.x+"px, "+this.state.y+"px) scale("+this.state.scale+")",transition:"transform 0.5s ease-out"},onLoad:function(){t.setState({loading:!1})}})),"video"===a.type&&e.push(i.createElement("iframe",{key:o,width:"560",height:"315",src:a.url,frameBorder:"0",allow:"autoplay; encrypted-media",title:a.title,allowFullScreen:!0,style:{pointerEvents:1===this.state.scale?"auto":"none",maxWidth:"100%",maxHeight:"100%",transform:"translate("+this.state.x+"px, "+this.state.y+"px)",transition:"transform 0.5s ease-out"},onLoad:function(){t.setState({loading:!1})}}))}return e},r.UNSAFE_componentWillMount=function(){var t=this;window.addEventListener("resize",(function(){window.innerWidth<=500?t.setState({iconSize:p}):t.setState({iconSize:d})}))},r.componentWillUnmount=function(){var t=this;window.removeEventListener("resize",(function(){window.innerWidth<=500?t.setState({iconSize:p}):t.setState({iconSize:d})}))},r.render=function(){var t=this,e=this.getResources();return i.createElement("div",{onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,style:{top:"0px",left:"0px",overflow:"hidden",position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,1)",zIndex:"1000"}},this.props.showResourceCount&&i.createElement("div",{style:{position:"absolute",top:"0px",left:"0px",padding:"15px",color:"white",fontWeight:"bold"}},i.createElement("span",null,this.state.index+1)," / ",i.createElement("span",null,this.props.data.length)),i.createElement("div",{style:{position:"absolute",top:"0px",left:"70px",padding:"15px",color:"white",fontWeight:"bold",zIndex:"9999"}},i.createElement("span",null,this.props.data[this.state.index].tanggal)),i.createElement("div",{style:{position:"absolute",top:"0px",right:"0px",padding:"10px",color:"#FFFFFF",cursor:"pointer",fontSize:.8*this.state.iconSize+"px",zIndex:"9998"},onClick:this.props.onCloseCallback},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#FFFFFF"},i.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))),this.state.index+1!=1?i.createElement("div",{style:{position:"absolute",left:"0px",zIndex:1,color:"#FFFFFF",cursor:"pointer",fontSize:this.state.iconSize+"px"},onClick:function(){t.swipeLeft()}},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"48px",viewBox:"0 0 24 24",width:"48px",fill:"#FFFFFF"},i.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),i.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}))):i.createElement(i.Fragment,null),this.state.index+1!=this.props.data.length?i.createElement("div",{style:{position:"absolute",right:"0px",zIndex:1,color:"#FFFFFF",cursor:"pointer",fontSize:this.state.iconSize+"px"},onClick:function(){t.swipeRight()}},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"48px",viewBox:"0 0 24 24",width:"48px",fill:"#FFFFFF"},i.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),i.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}))):i.createElement(i.Fragment,null),this.state.loading&&i.createElement("div",{style:{margin:"auto",position:"fixed"}},i.createElement("style",null,"@keyframes react_image_video_spinner {\n                  0% {\n                    transform: translate3d(-50 %, -50 %, 0) rotate(0deg);\n                  }\n                  100% {\n                    transform: translate3d(-50%, -50%, 0) rotate(360deg);\n                  }\n                }"),i.createElement("div",{style:{animation:"1.0s linear infinite react_image_video_spinner",border:"solid 5px #ffffff",borderBottomColor:"#cfd0d1",borderRadius:"50%",height:30,width:30,position:"fixed",transform:"translate3d(-50%, -50%, 0)"}})),e[this.state.index])},a}(i.Component);e.default=f,t.exports=e.default},863811:(t,e)=>{"use strict";e.__esModule=!0,e.settle=e.getPointFromTouch=e.getDistanceBetweenPoints=e.between=void 0,e.settle=function(t,e,n){return t>e-n&&t<e||t<e+n&&t>e?e:t},e.getPointFromTouch=function(t){return{x:t.clientX,y:t.clientY}},e.getDistanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))},e.between=function(t,e,n){return Math.min(e,Math.max(t,n))}},755745:(t,e,n)=>{var i=n(803465),o=i.featureCollection,a=n(798098),r=n(654625);t.exports=function(t,e,n){var s=i.distanceToDegrees(e,n),l=r(t),h=r(o(l.features.map((function(t){return function(t,e){var n=(new a.io.GeoJSONReader).read(t.geometry).buffer(e);return{type:"Feature",geometry:n=(new a.io.GeoJSONWriter).write(n),properties:{}}}(t,s)}))));return h.features.length>1?h:1===h.features.length?h.features[0]:void 0}},165442:(t,e,n)=>{var i=n(798098);t.exports=function(t,e){var n,o;n="Feature"===t.type?t.geometry:t,o="Feature"===e.type?e.geometry:e;var a=new i.io.GeoJSONReader,r=a.read(JSON.stringify(n)),s=a.read(JSON.stringify(o)),l=r.intersection(s);if(!l.isEmpty())return{type:"Feature",properties:{},geometry:(new i.io.GeoJSONWriter).write(l)}}}}]);